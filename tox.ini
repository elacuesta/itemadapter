[tox]
envlist = py35,py36,py37,py38,checks


[testenv]
deps =
    -rtests/requirements.txt
commands =
    py.test --verbose --cov=itemadapter --cov-report=term-missing --cov-report=html --cov-report=xml {posargs: itemadapter tests}


[testenv:py35]
basepython = python3.5


[testenv:py36]
basepython = python3.6


[testenv:py37]
basepython = python3.7


[testenv:py38]
basepython = python3.8


[testenv:checks]
basepython = python3.8
deps =
    black>=19.10b0
    flake8>=3.7.9
    mypy>=0.770
commands =
    flake8 --exclude=.git,.tox,venv* itemadapter tests
    mypy --ignore-missing-imports --follow-imports=skip itemadapter
    black --check itemadapter tests
